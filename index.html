<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å¾å·ä¸œéƒ¨å…¬äº¤éšæ‚£é¢„æµ‹ç³»ç»Ÿ - AIç¥ç»ç½‘ç»œåˆ†æ</title>
    <meta name="description" content="å¾å·ä¸œéƒ¨å…¬äº¤éšæ‚£é¢„æµ‹ç³»ç»Ÿï¼ŒåŸºäºAIç¥ç»ç½‘ç»œåˆ†æï¼Œæä¾›å®æ—¶å¤©æ°”ç›‘æµ‹ã€è¿ç« é«˜å‘è·¯æ®µåˆ†æå’Œé£é™©é¢„è­¦ç­‰åŠŸèƒ½ã€‚">
    <meta name="keywords" content="å¾å·å…¬äº¤,éšæ‚£é¢„æµ‹,AIåˆ†æ,å¤©æ°”ç›‘æµ‹,è¿ç« åˆ†æ,äº¤é€šå®‰å…¨">
    <meta name="author" content="é¡¾è¿ª">
    <!-- Open Graph æ ‡ç­¾ -->
    <meta property="og:title" content="å¾å·ä¸œéƒ¨å…¬äº¤éšæ‚£é¢„æµ‹ç³»ç»Ÿ">
    <meta property="og:description" content="åŸºäºAIç¥ç»ç½‘ç»œçš„å…¬äº¤å®‰å…¨é¢„æµ‹åˆ†æç³»ç»Ÿ">
    <meta property="og:type" content="website">
    <!-- æ·»åŠ ç½‘ç«™å›¾æ ‡ -->
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- åŸæœ‰çš„æ ·å¼è¡¨ -->
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/weather-controls.css">
    <link rel="stylesheet" href="/css/chat.css">

    <meta name="referrer" content="no-referrer">
    <style>
        /* é¢æ¿æ ·å¼ */
        .risk-ranking,
        .violation-hotspots {
            position: absolute;
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            max-width: 400px;
            width: 100%;
        }

        .risk-ranking {
            top: 20px;
            right: 20px;
        }

        .violation-hotspots {
            bottom: 20px;
            right: 20px;
        }

        .panel-title {
            margin: 0 0 15px 0;
            font-size: 16px;
            color: #333;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
        }

        .data-table th,
        .data-table td {
            padding: 8px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        .data-table th {
            background: #f8f9fa;
            font-weight: bold;
        }

        /* ç§»åŠ¨ç«¯é€‚é… */
        @media (max-width: 768px) {
            .risk-ranking,
            .violation-hotspots {
                position: fixed;
                max-width: none;
                width: 90%;
                left: 50%;
                transform: translateX(-50%);
            }

            .risk-ranking {
                top: 10px;
            }

            .violation-hotspots {
                bottom: 10px;
            }
        }
    </style>
</head>
<body>
    <div id="container"></div>
    <div id="title"><b>AIç¥ç»ç½‘ç»œå…¬äº¤éšæ‚£é¢„æµ‹ç³»ç»Ÿ</b></div>
    




    <!-- DeepSeekå…¬äº¤åŠå…¬åŠ©æ‰‹ -->
    <div id="chatContainer" class="chat-container">
        <div class="chat-header">
            <span>DeepSeekå¾å·å…¬äº¤åŠå…¬åŠ©æ‰‹</span>
            <button id="minimizeChat" class="minimize-button">âˆ’</button>
        </div>
        <div class="quick-action-grid">
            <button class="quick-action" data-prompt="æˆ‘æ˜¯å…¬äº¤è¡Œä¸šå‘˜å·¥ï¼Œæˆ‘çš„éƒ¨é—¨æ˜¯ [è¥è¿/å®‰å…¨/å…šå»º]ï¼Œéœ€è¦æ’°å†™ä¸€ä»½ [æ–°é—»ç¨¿/äº§å“æ–‡æ¡ˆ/æ´»åŠ¨æ–‡æ¡ˆ]ï¼Œä¸»é¢˜æ˜¯ [ä¸»é¢˜]ã€‚è¯·æ ¹æ®è¡Œä¸šç‰¹ç‚¹ï¼Œç« èŠ‚ç»“æ„å¦‚ä¸‹ï¼š[1ã€2ã€3â€¦]ï¼Œæ•´ä½“å­—æ•°æ§åˆ¶åœ¨ [1000å­—å·¦å³]ï¼Œè¯·ç”¨æ¸…æ™°ã€ç®€æ´ä¸”æœ‰å¸å¼•åŠ›çš„è¯­è¨€è¡¨è¾¾ã€‚">âœï¸ å¸®æˆ‘å†™ä½œ</button>
            <button class="quick-action" data-prompt="è¯·å¸®æˆ‘æ¶¦è‰²ä»¥ä¸‹æ–‡æ¡ˆï¼Œå¯é€‚å½“ä¼˜åŒ–å¥å¼ï¼Œæé«˜å¯è¯»æ€§ï¼Œå¹¶å¢å¼ºé€»è¾‘æ€§ã€‚ä»¥ä¸‹æ˜¯éœ€è¦æ¶¦è‰²çš„å†…å®¹ï¼š">ğŸ¨ æ–‡æ¡ˆæ¶¦è‰²</button>
            <button class="quick-action" data-prompt="æˆ‘éœ€è¦åˆ¶ä½œä¸€ä»½ [ä¸»é¢˜] çš„ PPTï¼Œä¸»è¦ç”¨é€”æ˜¯ [ç”¨é€”ï¼Œå¦‚æ±‡æŠ¥ã€åŸ¹è®­ã€å®£ä¼ ç­‰]ã€‚è¯·ç»“åˆã€å…¬äº¤è¡Œä¸šèƒŒæ™¯ã€‘ï¼Œç»™å‡ºåˆç†çš„ç« èŠ‚ç»“æ„ï¼Œå¹¶è¯¦ç»†åˆ—å‡ºæ¯é¡µçš„å†…å®¹æ¡†æ¶ï¼ŒåŒ…æ‹¬å…³é”®è¦ç‚¹ã€å¯è§†åŒ–å»ºè®®ï¼ˆå¦‚è¡¨æ ¼ã€å›¾è¡¨ã€å›¾ç‰‡ï¼‰ç­‰ï¼Œç¡®ä¿é€»è¾‘æ¸…æ™°ã€è¡¨è¾¾ç²¾å‡†ã€æ˜“äºå±•ç¤ºã€‚">ğŸ“Š PPT åˆ¶ä½œ</button>
            <button class="quick-action" data-prompt="æˆ‘æ˜¯å…¬äº¤è¡Œä¸šå‘˜å·¥ï¼Œåœ¨å·¥ä½œä¸­é‡åˆ°é—®é¢˜éœ€è¦è§£ç­”ã€‚è¯·æ ¹æ® å…¬äº¤è¡Œä¸šç›¸å…³æ”¿ç­–ã€è¿è¥ç®¡ç†ã€å®‰å…¨è§„èŒƒã€äº‹æ•…å¤„ç†ã€è½¦è¾†ç»´æŠ¤ã€æœåŠ¡æå‡ ç­‰æ–¹é¢çš„çŸ¥è¯†ï¼Œæä¾›ä¸“ä¸šã€ç²¾å‡†ã€å®ç”¨çš„å»ºè®®ã€‚æˆ‘çš„é—®é¢˜æ˜¯ï¼š">â“ é—®é¢˜ç­”ç–‘</button>
        </div>
        <div id="messages" class="messages-container"></div>
        <div class="input-container">
            <input type="text" id="chatInput" class="chat-input" placeholder="è¯·è¾“å…¥æ‚¨çš„é—®é¢˜...">
            <button id="sendButton" class="send-button">å‘é€</button>
        </div>
    </div>

    <!-- é…ç½®è„šæœ¬ -->
    <script>
        window.APP_CONFIG = {
            QWEATHER_KEY: '8fb8cc9420fc4f2cb09db037d56bde99'
        };
    </script>
    
    <!-- å…¶ä»–è„šæœ¬ -->
    <script type="text/javascript">
        window._AMapSecurityConfig = {
            securityJsCode: '%AMAP_SECURITY_CODE%'
        };
    </script>
    <script src="https://webapi.amap.com/maps?v=1.4.15&key=%AMAP_KEY%"></script>
    <script src="/js/map.js"></script>
    <script src="/js/weather.js"></script>
    <script src="/js/risk-analysis.js"></script>
    <script src="/js/chat.js"></script>
    <script>
        let map;
        document.addEventListener('DOMContentLoaded', () => {
            map = initMap();
            setTimeout(() => {
                try {
                    const weatherSystem = new WeatherSystem(map);
                    // åŠ è½½çƒ­åŠ›å›¾æ•°æ®ååˆå§‹åŒ–é£é™©åˆ†æ
                    fetch('/data/heatmap-data.json')
                        .then(response => response.json())
                        .then(json => {
                            new RiskAnalysis(map, json.data);
                        });
                } catch (error) {
                    console.error('ç³»ç»Ÿåˆå§‹åŒ–å¤±è´¥:', error);
                }
            }, 1000);
        });
    </script>

    </script>
    <!-- ä¸œéƒ¨å…¬äº¤éšæ‚£æ’åºé¢æ¿ -->
    <div class="risk-ranking">
        <h3 class="panel-title">ä¸œéƒ¨å…¬äº¤éšæ‚£æ’åº</h3>
        <table class="data-table">
            <thead>
                <tr>
                    <th>åºå·</th>
                    <th>åœ°ç‚¹</th>
                    <th>é£é™©æŒ‡æ•°</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>

    <!-- 2024å¹´è¿ç« åå¤§é«˜å‘è·¯æ®µé¢æ¿ -->
    <div class="violation-hotspots">
        <h3 class="panel-title">2024å¹´è¿ç« åå¤§é«˜å‘è·¯æ®µ</h3>
        <table class="data-table">
            <thead>
                <tr>
                    <th>åºå·</th>
                    <th>åœ°ç‚¹</th>
                    <th>æ¬¡æ•°</th>
                </tr>
            </thead>
            <tbody>
                <!-- è¿ç« æ•°æ®å°†é€šè¿‡ JavaScript åŠ¨æ€åŠ è½½ -->
            </tbody>
        </table>
    </div>
</body>
</html>